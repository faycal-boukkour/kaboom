<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KABOOM - Jouer</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
  <nav class="navbar">
    <div class="logo">
      <a href="index.html"><img src="assets/img/logo_sf.webp" alt="Logo"></a>
    </div>
    <div class="burger" onclick="toggleMenu()">‚ò∞</div>
    <ul id="menu">
      <li><a href="index.html">Accueil</a></li>
      <li><a href="classement.html">Classement</a></li> 
      <li><a href="jouer.html" class="play">Jouer</a></li>
      <li class="logo-burger"><a href="index.html"><img src="assets/img/logo_sf.webp" alt="Logo"></a></li>
    </ul>
  </nav>

  <main class="content play">

    <!-- Section configuration des joueurs -->
    <section id="config-section" class="config">
      <h1>‚öôÔ∏è Configuration</h1>
      <label for="nbJoueurs">Nombre de joueurs (2 √† 6) :</label>
      <input type="number" id="nbJoueurs" min="2" max="6">
      <div id="joueursConfig"></div>
      <div class="btn">
        <button onclick="startGame()">Valider</button>
      </div>
    </section>

    

    <!-- Section manche / jeu -->
    <section id="game-section" class="hidden">
      <h2 id="round-title" class="round-title"></h2>
      <div id="mancheContainer"></div>
      <div id="tableauScores"></div>
      <div class="btn">
        <button onclick="reinitialiserPartie()">Nouvelle partie ?</button>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <p><a href="index.html" class="yellow">KABOOM</a> ¬© 2025 - Tous droits reserv√©s</p> 
    <p><a href="mentions.html" class="red">Mentions l√©gales</a></p>
    <p>Designed by <a href="https://faycal-boukkour.github.io/portfolio/" target="_blank" class="green">Fay√ßal BOUKKOUR</a></p>
  </footer>

  <script src="assets/js/script.js"></script>
  <script>
    // Reprendre partie si donn√©es dans localStorage
    if(localStorage.getItem("partieEnCours")){
      const partie = JSON.parse(localStorage.getItem("partieEnCours"));
      joueurs = partie.joueurs || [];
      equipes = partie.equipes || [];
      nbManches = partie.nbManches || 1;
      mancheActuelle = joueurs[0].scores.length + 1 || 1;

      document.getElementById("config-section").style.display = "none";
      document.getElementById("game-section").classList.remove("hidden");

      if(partie.statut === "finie"){
        afficherTableauFinal();
        document.getElementById("round-title").textContent = "üéâ Fin de partie";
        document.getElementById("round-title").classList.add("fin-de-partie");
      } else {
        initJeu();
      }
    }
  </script>
</body>
</html>
